group_by(originality, usefulness) %>%
summarize(creativity=mean(creativity)) %>%
ggplot(aes(x=originality, y=usefulness, fill=creativity)) +
geom_tile(color="black") +
geom_label_repel(
data=label_points,
aes(label = str_wrap(paste(object, use, sep = ": "), width = 20)),
size=2.5,
color="black",
alpha=.75) +
facet_wrap(~condition) +
scale_fill_gradient(low = "darkgrey",
high = "gold",
breaks=c(1, 2, 3, 4, 5),
labels = c("Not at all",
"",
"",
"",
"Maximally")) +
labs(fill="Evaluators'\n creativity rating",
x="Originality",
y="Usefulness") +
theme_apa() +
theme(
legend.position = "bottom",
legend.title = element_text(vjust = 1, hjust = 0.5),
legend.text.align = 0.5
) +
guides(
fill = guide_colorbar(
title.position = "top",    # put title above bar
title.hjust = 0.5,         # center title
label.hjust = 0.5,         # center tick labels
barwidth = unit(6, "cm"),  # adjust width as needed
barheight = unit(0.4, "cm")
)
)
label_points <- iriss_manual_ratings_metrics %>%
anti_join(noncompliant_conversations, by=c("submitter_id", "object")) %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object")) %>%
group_by(condition) %>%
sample_n(5)
# Might want to change the colors
iriss_manual_ratings_metrics %>%
anti_join(noncompliant_conversations, by=c("submitter_id", "object")) %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object")) %>%
group_by(originality, usefulness) %>%
summarize(creativity=mean(creativity)) %>%
ggplot(aes(x=originality, y=usefulness, fill=creativity)) +
geom_tile(color="black") +
geom_label_repel(
data=label_points,
aes(label = str_wrap(paste(object, use, sep = ": "), width = 20)),
size=2.5,
color="black",
alpha=.75) +
facet_wrap(~condition) +
scale_fill_gradient(low = "darkgrey",
high = "gold",
breaks  = range(iriss_manual_ratings_metrics$creativity, na.rm = TRUE),
labels = c("Not at all", "Maximally")) +
labs(fill="Evaluators'\n creativity rating",
x="Originality",
y="Usefulness") +
theme_apa() +
theme(
legend.position = "bottom",
legend.title = element_text(vjust = 1, hjust = 0.5),
legend.text.align = 0.5
) +
guides(
fill = guide_colorbar(
title.position = "top",    # put title above bar
title.hjust = 0.5,         # center title
label.hjust = 0.5,         # center tick labels
barwidth = unit(6, "cm"),  # adjust width as needed
barheight = unit(0.4, "cm")
)
)
iriss_manual_ratings_metrics %>%
anti_join(noncompliant_conversations, by=c("submitter_id", "object")) %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object")) %>%
group_by(originality, usefulness) %>%
summarize(creativity=mean(creativity)) %>%
ggplot(aes(x=originality, y=usefulness, fill=creativity)) +
geom_tile(color="black") +
geom_label_repel(
data=label_points,
aes(label = str_wrap(paste(object, use, sep = ": "), width = 20)),
size=2.5,
color="black",
alpha=.75) +
facet_wrap(~condition,
labeller = as_labeller(c(
"Control" = "Control",
"Passenger" = "Low-Agency",
"Pilot" = "High-Agency"
))) +
scale_fill_gradient(low = "darkgrey",
high = "gold",
breaks  = range(iriss_manual_ratings_metrics$creativity, na.rm = TRUE),
labels = c("Not at all", "Maximally")) +
labs(fill="Evaluators'\n creativity rating",
x="Originality",
y="Usefulness") +
theme_apa() +
theme(
legend.position = "bottom",
legend.title = element_text(vjust = 1, hjust = 0.5),
legend.text.align = 0.5
) +
guides(
fill = guide_colorbar(
title.position = "top",    # put title above bar
title.hjust = 0.5,         # center title
label.hjust = 0.5,         # center tick labels
barwidth = unit(6, "cm"),  # adjust width as needed
barheight = unit(0.4, "cm")
)
)
outcomes <- c("originality", "creativity", "usefulness")
plots <- map(outcomes, function(var) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by="submitter_id", "object") %>%
mutate(condition=case_when(condition=="Pilot"~"High-Agency",
condition=="Passenger"~"Low-Agency",
condition=="Control"~"Control")) %>%
mutate(condition= fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1,5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
})
# To display the plots:
originality <- plots[[1]]  # originality
creativity <- plots[[2]]  # creativity
usefulness <- plots[[3]]  # usefulness
ggsave("figures/originality.png", plot = plots[[1]])
ggsave("figures/creativity.png", plot = plots[[2]])
ggsave("figures/usefulness.png", plot = plots[[3]])
# Combined plot
compliant_evaluation_plot <- creativity + originality + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
ggsave(plot=compliant_evaluation_plot, filename="figures/compliant_evaluations.png")
plots_sd <- map(outcomes, function(var) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(condition) %>%
summarize(
mean_value = mean(.data[[var]], na.rm = TRUE),
sd_value = sd(.data[[var]], na.rm = TRUE),
.groups = "drop"
)
ggplot(summary_df, aes(x = condition, y = mean_value)) +
geom_point(size = 3, color = "steelblue") +
geom_errorbar(aes(ymin = mean_value - sd_value, ymax = mean_value + sd_value),
width = 0.2, color = "steelblue") +
ylim(c(1, 5)) +
labs(x = "", y = str_to_title(var)) +
theme_apa() +
theme(legend.position = "none")
})
plots_sd
outcomes <- c("originality", "creativity", "usefulness")
plots_sd <- map(outcomes, function(var) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(condition) %>%
summarize(
mean_value = mean(.data[[var]], na.rm = TRUE),
sd_value = sd(.data[[var]], na.rm = TRUE),
.groups = "drop"
)
ggplot(summary_df, aes(x = condition, y = mean_value)) +
geom_point(size = 3, color = "steelblue") +
geom_errorbar(aes(ymin = mean_value - sd_value, ymax = mean_value + sd_value),
width = 0.2, color = "steelblue") +
ylim(c(1, 5)) +
labs(x = "", y = str_to_title(var)) +
theme_apa() +
theme(legend.position = "none")
})
plots_sd
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text on the first (leftmost) plot
if (idx != 1) {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text on the first (leftmost) plot
if (idx != 1) {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
originality <- plots[[1]]  # originality
creativity <- plots[[2]]  # creativity
usefulness <- plots[[3]]
compliant_evaluation_plot <- creativity + originality + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
outcomes <- c("creativity", "originality", "usefulness")
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text on the first (leftmost) plot
if (idx != 1) {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
originality <- plots[[1]]  # originality
creativity <- plots[[2]]  # creativity
usefulness <- plots[[3]]
compliant_evaluation_plot <- creativity + originality + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
outcomes <- c("originality", "creativity", "usefulness")
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text for the creativity plot (second in outcomes)
if (var != "creativity") {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
# Assign individual plots
originality <- plots[[1]]
creativity <- plots[[2]]
usefulness <- plots[[3]]
# Combine plots
compliant_evaluation_plot <- originality + creativity + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
# Save combined plot
ggsave(plot = compliant_evaluation_plot, filename = "figures/compliant_evaluations.png", width = 12, height = 4)
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text for the creativity plot (second in outcomes)
if (var != "creativity") {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
# Assign individual plots
originality <- plots[[1]]
creativity <- plots[[2]]
usefulness <- plots[[3]]
# Combine plots
compliant_evaluation_plot <- originality + creativity + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
# Save combined plot
ggsave(plot = compliant_evaluation_plot, filename = "figures/compliant_evaluations.png", width = 12, height = 4)
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text for the creativity plot (second in outcomes)
if (var != "creativity") {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
# Assign individual plots
originality <- plots[[1]]
creativity <- plots[[2]]
usefulness <- plots[[3]]
# Combine plots
compliant_evaluation_plot <- originality + creativity + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
# Save combined plot
ggsave(plot = compliant_evaluation_plot, filename = "figures/compliant_evaluations.png", width = 12, height = 4)
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text for the creativity plot (second in outcomes)
if (var != "creativity") {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
# Assign individual plots
originality <- plots[[1]]
creativity <- plots[[2]]
usefulness <- plots[[3]]
# Combine plots
compliant_evaluation_plot <- creativity + originality + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
# Save combined plot
ggsave(plot = compliant_evaluation_plot, filename = "figures/compliant_evaluations.png", width = 12, height = 4)
plots <- map2(outcomes, seq_along(outcomes), function(var, idx) {
summary_df <- compliant_trials_demographics %>%
anti_join(unevaluated_conversations, by = c("submitter_id", "object")) %>%
mutate(condition = case_when(
condition == "Pilot" ~ "High-Agency",
condition == "Passenger" ~ "Low-Agency",
condition == "Control" ~ "Control"
)) %>%
mutate(condition = fct_relevel(condition, c("Low-Agency", "High-Agency", "Control"))) %>%
group_by(submitter_id, condition) %>%
summarize(value = mean(.data[[var]]), .groups = "drop")
p <- ggplot(summary_df, aes(x = value, y = condition, fill = condition)) +
geom_density_ridges(alpha = 0.6, quantile_lines = TRUE, quantile_fun = mean) +
xlim(c(1, 5)) +
labs(x = str_to_title(var), y = "") +
theme_apa() +
theme(legend.position = "none")
# Only show y-axis text for the creativity plot (second in outcomes)
if (var != "creativity") {
p <- p + theme(axis.text.y = element_blank(),
axis.ticks.y = element_blank())
}
p
})
# Assign individual plots
originality <- plots[[1]]
creativity <- plots[[2]]
usefulness <- plots[[3]]
# Combine plots
compliant_evaluation_plot <- creativity + originality + usefulness + plot_annotation(tag_levels = "a")
compliant_evaluation_plot
# Save combined plot
ggsave(plot = compliant_evaluation_plot, filename = "figures/compliant_evaluations.png", width = 12, height = 4)
intent <- read_csv("data/iriss_intent_classification.csv")
intent <- read_csv("data/iriss_intent_classification.csv") %>%
anti_join(noncompliant_conversations, by="submitter_id", "object") %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object"))
intent <- read_csv("data/iriss_intent_classification.csv") %>%
rename(submitter_id="ResponseId") %>%
anti_join(noncompliant_conversations, by="submitter_id", "object") %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object"))
View(intent)
intent <- read_csv("data/iriss_intent_classification.csv") %>%
rename(submitter_id="participant_id") %>%
anti_join(noncompliant_conversations, by="submitter_id", "object") %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object"))
intent <- read_csv("data/iriss_intent_classification.csv") %>%
rename(submitter_id="participant_id") %>%
anti_join(excluded_participants, by="submitter_id")
intent %>%
group_by(condition) %>%
summarize(mean_doing = mean(doing),
sd_doing = sd(doing))
sjPlot::tab_model(compliant_creativity_mod, compliant_originality_mod, compliant_usefulness_mod)
compliant_originality_mod <- lmer(
originality ~ scale(age) + as.factor(gender) + as.factor(race) + condition + (1|object) + (1|submitter_id), data=compliant_trials_demographics)
compliant_creativity_mod <- lmer(
creativity ~ scale(age) + as.factor(gender) + as.factor(race) + condition + (1|object) + (1|submitter_id), data=compliant_trials_demographics)
compliant_usefulness_mod <- lmer(
usefulness ~ scale(age) + as.factor(gender) + as.factor(race) + condition + (1|object) + (1|submitter_id), data= compliant_trials_demographics
)
sjPlot::tab_model(compliant_creativity_mod, compliant_originality_mod, compliant_usefulness_mod)
direct_asks <- read_csv("data/direct_asks.csc")
direct_asks <- read_csv("data/direct_asks.csv")
View(direct_asks)
direct_asks %>%
distinct(ResponseId)
direct_asks <- read_csv("data/direct_asks.csv") %>%
rename(submitter_id = "ResponseId")
direct_asks <- read_csv("data/direct_asks.csv") %>%
rename(submitter_id = "ResponseId") %>%
rename(direct_ask = "prompt_category_Direct Ask")
direct_asks <- read_csv("data/direct_asks.csv") %>%
rename(submitter_id = "ResponseId") %>%
rename(direct_ask = "prompt_category_Direct Ask")
mutate(direct_ask = case_when(direct_ask==TRUE ~ 1,
direct_ask==FALSE~0))
direct_asks <- read_csv("data/direct_asks.csv") %>%
rename(submitter_id = "ResponseId") %>%
rename(direct_ask = "prompt_category_Direct Ask") %>%
mutate(direct_ask = case_when(direct_ask==TRUE ~ 1,
direct_ask==FALSE~0))
participant_direct_asks <- direct_asks %>%
group_by(submitter_id) %>%
summarize(mean_direct_ask = mean(direct_ask))
View(participant_direct_asks)
View(evaluated_compliant_conversations)
iriss_trial_data %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object")) %>%
anti_join(noncompliant_conversations, by=c("submitter_id", "object"))
write_csv("data/evaluated_compliant_ideas.csv")
evaluated_compliant_ideas <- iriss_trial_data %>%
anti_join(unevaluated_conversations, by=c("submitter_id", "object")) %>%
anti_join(noncompliant_conversations, by=c("submitter_id", "object"))
write_csv("data/evaluated_compliant_ideas.csv")
write_csv(evaluated_compliant_ideas, "data/evaluated_compliant_ideas.csv")
reticulate::repl_python()
